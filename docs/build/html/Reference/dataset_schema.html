

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Architecture Reference &mdash; fluid-run v0.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> fluid-run
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Architecture Reference</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#cloud-build-with-rcc-ephemeral-system">Cloud Build with RCC Ephemeral System</a></li>
<li><a class="reference internal" href="#cloud-build-with-gce-cluster">Cloud Build with GCE Cluster</a></li>
<li><a class="reference internal" href="#benchmark-dataset-schema">Benchmark Dataset Schema</a></li>
</ul>
</li>
<li><a class="reference internal" href="#environment-variables">Environment Variables</a></li>
</ul>
</div>
            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">fluid-run</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Architecture Reference</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/Reference/dataset_schema.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="architecture-reference">
<h1>Architecture Reference<a class="headerlink" href="#architecture-reference" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="cloud-build-with-rcc-ephemeral-system">
<h2>Cloud Build with RCC Ephemeral System<a class="headerlink" href="#cloud-build-with-rcc-ephemeral-system" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="cloud-build-with-gce-cluster">
<h2>Cloud Build with GCE Cluster<a class="headerlink" href="#cloud-build-with-gce-cluster" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="benchmark-dataset-schema">
<h2>Benchmark Dataset Schema<a class="headerlink" href="#benchmark-dataset-schema" title="Permalink to this headline">¶</a></h2>
<p>With each <cite>execution_command</cite> in your CI file, fluid-run will align variables about your build and testing environment along with runtimes to create a fully auditable record of the execution. This allows you to naturally generate a database over time that can track how your application performs over time and on all available hardware on Google Cloud. Knowing this information is critical for optimizing costs for your applications on public cloud systems. The table below provides an overview of the current schema.</p>
</div>
</div>
<div class="section" id="environment-variables">
<h1>Environment Variables<a class="headerlink" href="#environment-variables" title="Permalink to this headline">¶</a></h1>
<p>When running batch scripts on RCC style platforms and when running in-line commands on GCE clusters, some environment variables are provided for you to use during runtime.</p>
<p>Since RCC clusters use a Slurm job scheduler, you also have access to common <a class="reference external" href="https://hpcc.umd.edu/hpcc/help/slurmenv.html">Slurm environment variables</a> when <cite>–cluster-type=rcc-static</cite> or <cite>–cluster-type=rcc-ephemeral</cite>.</p>
<p>Variable         Description
BUILD_ID
GIT_SHA
WORKSPACE</p>
<blockquote>
<div>‘ignore_job_dependencies’:args.ignore_job_dependencies,
‘machine_type’:args.machine_type,
‘mpi’:args.mpi,
‘node_count’:args.node_count,
‘nproc’:args.nproc,
‘profile’:args.profile,
‘project’:args.project,
‘rcc_tfvars’:args.rcc_tfvars,
‘service_account’:args.service_account,
‘singularity_image’:args.singularity_image,
‘rcc_controller’:args.rcc_controller,
‘ignore_exit_code’:args.ignore_exit_code,
‘save_results’:args.save_results,
‘task_affinity’:args.task_affinity,
‘vpc_subnet’:args.vpc_subnet,
‘workspace’:’/apps/workspace/{}/’.format(args.build_id[0:7]),
‘zone’:args.zone,
‘ci_file’:args.ci_file,
‘bq_table’:’{}:fluid_cicb.app_runs’.format(args.project),
‘hostname’:’frun-{}-0’.format(args.build_id[0:7])}</div></blockquote>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Fluid Numerics LLC.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>